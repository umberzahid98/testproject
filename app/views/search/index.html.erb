<%# pluralize will make the results or result based on the result numbers %>
<h1 class="text-center"><%= pluralize(@items.count, "Result")%></h1>


<div class="container ">
<%= @cat%>


<table class="table table-dark table-striped">
  <thead>
    <tr>
    <%# sort_link is the helper of Ransack %>
    <th><%= sort_link(@query, :title, "Title", default_order: :asc) %></th>
    <th><%= sort_link(@query, :description, "Item Description"  )%></th>
    <th><%= sort_link(@query, :price, "Item Price"  )%></th>

    </tr>
  </thead>
  <tbody>
    <% @items.each do |item|%>
      <%if (@cat - item.categories.pluck(:name)).empty? %>
        <tr>
        <%# rails will get the item id and take us to particular item by this link %>
          <td><%= link_to item.title, item%></td>
          <td><%= item.description.truncate_words(25)%></td>
          <td><%= item.price%></td>
        </tr>
      <%end%>
    <%end%>
  </tbody>
</table>


</div>

